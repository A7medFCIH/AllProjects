import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns
import tensorflow as tf

def stringToOnehot(df, colName):
    df[colName] = df[colName].astype('category')
    df[colName] = df[colName].cat.codes
    onehotMatrix = pd.get_dummies(df[colName])
    names = []
    for catCode in onehotMatrix:
        names.append(colName+str(catCode))
    
    onehotMatrix.columns = names
    del df[colName]
    df = df.join(onehotMatrix)
    return df

cols = ['age', 'workclass', 'fnlwgt', 'education', 'education-num',
        'marital-status', 'occupation', 'relationship', 'race',
        'sex', 'capital-gain', 'capital-loss', 'hours-per-week',
        'native-country', 'income']
data1 = pd.read_csv('adult.data', names=cols)
data2 = pd.read_csv('adult.test', names=cols)
data = pd.concat([data1, data2], ignore_index=True)

label = data.loc[:, ['income']]
label = label == ' >50K'
del data['income']